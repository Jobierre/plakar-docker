.Dd September 11, 2025
.Dt PLAKAR-STORE 1
.Os
.Sh NAME
.Nm plakar-store
.Nd Manage Plakar store configurations
.Sh SYNOPSIS
.Nm plakar store
.Ar subcommand ...
.Sh DESCRIPTION
The
.Nm plakar store
command manages the Plakar store configurations.
.Pp
The configuration consists in a set of named entries, each of them
describing a Plakar store holding backups.
.Pp
A store is defined by at least a location, specifying the storage
implementation to use, and some storage-specific parameters.
.Pp
The subcommands are as follows:
.Bl -tag -width Ds
.It Cm add Ar name Ar location Op Ar option Ns No = Ns Ar value ...
Create a new store entry identified by
.Ar name
with the specified
.Ar location .
Specific additional configuration parameters can be set by adding
.Ar option Ns No = Ns Ar value
parameters.
.It Cm check Ar name
Check wether the store identified by
.Ar name
is properly configured.
.It Xo
.Cm import
.Op Fl config Ar location
.Op Fl overwrite
.Op Fl rclone
.Op Ar sections ...
.Xc
Import store configurations from various sources including files,
piped input, or rclone configurations.
.Pp
By default, reads from stdin, allowing for piped input from other commands.
.Pp
The
.Fl config
option specifies a file or URL to read the configuration from.
.Pp
The
.Fl overwrite
option allows overwriting existing store configurations with
the same names.
.Pp
The
.Fl rclone
option treats the input as an rclone configuration, useful for
importing rclone remotes as Plakar stores.
.Pp
Specific sections can be imported by listing their names.
.Pp
Sections can be renamed during import by appending
.Cm \&: Ns Ar newname .
.Pp
For detailed examples and usage patterns, see the
.Lk https://docs.plakar.io/en/guides/importing-configurations/
.Dq Importing Configurations
guide.
.It Cm ping Ar name
Try to connect to the store identified by
.Ar name
to make sure it is reachable.
.It Cm rm Ar name
Remove the store identified by
.Ar name
from the configuration.
.It Cm set Ar name Op Ar option Ns No = Ns Ar value ...
Set the
.Ar option
to
.Ar value
for the store identified by
.Ar name .
Multiple option/value pairs can be specified.
.It Cm show Oo Fl secrets Oc Op Ar name ...
Display the current stores configuration.
If
.Fl secrets
is specified, sensitive information such as passwords or tokens will be shown.
.It Cm unset Ar name Op Ar option ...
Remove the
.Ar option
for the store entry identified by
.Ar name .
.El
.Sh DIAGNOSTICS
.Ex -std
.Sh SEE ALSO
.Xr plakar 1
