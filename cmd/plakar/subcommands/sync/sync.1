.Dd November 3, 2024
.Dt PLAKAR SYNC 1
.Os
.Sh NAME
.Nm plakar sync
.Nd Synchronize snapshots between Plakar repositories
.Sh SYNOPSIS
.Nm
.Op Ar snapshotID
.Ar to|from|with Ar repository
.Sh DESCRIPTION
The
.Nm
command is used to synchronize snapshots between two Plakar repositories. Users can specify a direction ("to", "from", or "with") to control the direction of synchronization between the primary and peer repositories. If a specific snapshot ID is provided, only snapshots with matching IDs will be synchronized.

.Bl -tag -width Ds
.It Ar to|from|with
Specifies the direction of synchronization:
.Bl -bullet
.It
to - Synchronize snapshots from the local repository to the specified peer repository.
.It
from - Synchronize snapshots from the specified peer repository to the local repository.
.It
with - Synchronize snapshots in both directions, ensuring both repositories are fully synchronized.
.El

.It Ar repository
Path to the peer repository to synchronize with.

.El

.Sh OPTIONS
No additional options are available for this command.

.Sh ARGUMENTS
.Bl -tag -width Ds
.It Ar snapshotID
(Optional) A partial or full snapshot ID to limit synchronization to specific snapshots that match this identifier.

.El

.Sh EXAMPLES
To illustrate usage:

.Bl -tag -width Ds
.It Basic synchronization from local to peer repository:
.Bd -literal -offset indent
plakar sync to /path/to/peer/repo
.Ed

.It Synchronize specific snapshot to peer repository:
.Bd -literal -offset indent
plakar sync abc123 to /path/to/peer/repo
.Ed

.It Bi-directional synchronization with peer repository:
.Bd -literal -offset indent
plakar sync with /path/to/peer/repo
.Ed
.El

.Sh DIAGNOSTICS
.Ex -std
.Bl -tag -width Ds
.It 0
Command completed successfully.
.It >0
General failure occurred, such as an invalid repository path, snapshot ID mismatch, or network error.
.El

.Sh SEE ALSO
.Xr plakar 1
